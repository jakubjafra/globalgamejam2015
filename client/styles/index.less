@tile-width: 64px;
@tile-height: 64px;

@viewport-width: 800px;
@viewport-height: 400px;

@main-water-color: #1fb3ff;

#viewport {
	position: fixed;
	left: 0px;
	top: 0px;

	width: @viewport-width;
	height: @viewport-height;

	background-color: @main-water-color;

	overflow: hidden;
}

#map {
	position: absolute;
	top: 0px;
	left: 0px;

	width: 1280px;
	height: auto;

	transition: top 2s, left 2s;
}

#combat_box {
	position: absolute;
	left: 50%;
	top: 50%;

	margin-left: -250px;
	margin-top: -150px;

	width: 500px;
	height: 300px;

	background-color: red;

	z-index: 100;
}

#background {
	position: absolute;
	top: 0px;
	left: 0px;

	width: 100%;
	height: 100%;

	background-color: rgba(0, 0, 0, 0.5);
	z-index: 99;
}

.map_tile {
	/*
	position: relative;
	display: inline-block;
	*/

	position: absolute;

	width: 64px;
	height: 64px;

	background-color: @main-water-color;

	z-index: 0;

	&.water { background-color: @main-water-color; }

	&.bigisland0 {
		z-index: 2;

		img {
			display: block !important;
			z-index: 3;
		}

		overflow: visible;
		
		div.animation {
			height: 256px;
			width: 256px;
			background-image: url("/mapa/wyspa_kupiecka_przezroczysta_tylko_fala.png");
		}
	}

	&.bigisland1 {
		z-index: 2;

		img {
			display: block !important;
			z-index: 3;
		}

		overflow: visible;
		
		div.animation {
			height: 256px;
			width: 256px;
			background-image: url("/mapa/wyspa_murzynow_tylko_fala.png");
		}
	}

	&.island {
		background-image: url("/mapa/wyspa_z_palma_bez_fal.png");
		div.animation {
			background-image: url("/mapa/wyspa_z_palma_tylko_fala.png");
		}
	}

	&.stones1 {
		background-image: url("/mapa/stones_1_bez_fal.png");
		div.animation {
			background-image: url("/mapa/stones_1_tylko_fala.png");
		}
	}

	&.stones2 {
		background-image: url("/mapa/stones_2_bez_fal.png");
		div.animation {
			background-image: url("/mapa/stones_2_tylko_fala.png");
		}
	}
	&.stones3 {
		background-image: url("/mapa/stones_3_bez_fal.png");
		div.animation {
			background-image: url("/mapa/stones_3_tylko_fala.png");
		}
	}

	&.siren {
		background-image: url("/mapa/siren_bez_fal.png");
		div.animation {
			background-image: url("/mapa/siren_tylko_fala.png");
		}
		&.nearby {
			& > img {
				display: block;
			}
		}
		img {
			position: absolute;
			top: 0px;
			left: 0px;

			z-index: 6;
			display: none;
		}
	}

	div.animation{
		position: absolute;
		top: 0px;
		left: 0px;
		width: @tile-width;
		height: @tile-width;

		z-index: 5;

		@speed: 3s;

		animation: wavesframes ease-in-out @speed;
		animation-iteration-count: infinite;
		transform-origin: 50% 50%;
		-webkit-animation: wavesframes ease-in-out @speed;
		-webkit-animation-iteration-count: infinite;
		-webkit-transform-origin: 50% 50%;
		-moz-animation: wavesframes ease-in-out @speed;
		-moz-animation-iteration-count: infinite;
		-moz-transform-origin: 50% 50%;
		-o-animation: wavesframes ease-in-out @speed;
		-o-animation-iteration-count: infinite;
		-o-transform-origin: 50% 50%;
		-ms-animation: wavesframes ease-in-out @speed;
		-ms-animation-iteration-count: infinite;
		-ms-transform-origin: 50% 50%;
	}

	@keyframes wavesframes{
		0% { opacity:1; }
		50% { opacity:0.25; }
		100% {  opacity:1; }
	}

	@-moz-keyframes wavesframes{
		0% { opacity:1; }
		50% { opacity:0.25; }
		100% {  opacity:1; }
	}

	@-webkit-keyframes wavesframes {
		0% { opacity:1; }
		50% { opacity:0.25; }
		100% {  opacity:1; }
	}

	@-o-keyframes wavesframes {
		0% { opacity:1; }
		50% { opacity:0.25; }
		100% {  opacity:1; }
	}

	@-ms-keyframes wavesframes {
		0% { opacity:1; }
		50% { opacity:0.25; }
		100% {  opacity:1; }
	}
}

.map_object {
	position: absolute;
	width: @tile-width;
	height: @tile-width;

	font-weight: bold;
	color: red;
	z-index: 1;

	line-height: @tile-width;
	vertical-align: middle;
	text-align: center;

	font-size: 20px;

	&.player {
		background-image: url("/obiekty/ship.png");

		left: @viewport-width / 2 - @tile-width / 2;
		top: @viewport-height / 2 - @tile-height / 2;

		z-index: 10;
	}

	&.merchant {
		background-image: url("/obiekty/ship_2.png");
		transition: top 2s, left 2s, transform 2s;
	}

	.on_hitted {
		z-index: 20;
		display: block !important;

		opacity: 0;

		@duration: 1s;

		animation: hittedanim linear @duration;
		animation-iteration-count: 1;
		transform-origin: 50% 50%;
		-webkit-animation: hittedanim linear @duration;
		-webkit-animation-iteration-count: 1;
		-webkit-transform-origin: 50% 50%;
		-moz-animation: hittedanim linear @duration;
		-moz-animation-iteration-count: 1;
		-moz-transform-origin: 50% 50%;
		-o-animation: hittedanim linear @duration;
		-o-animation-iteration-count: 1;
		-o-transform-origin: 50% 50%;
		-ms-animation: hittedanim linear @duration;
		-ms-animation-iteration-count: 1;
		-ms-transform-origin: 50% 50%;
	}

	@keyframes hittedanim{
		0% { opacity:0; }
		33% { opacity:1; }
		100% {  opacity:0; }
	}

	@-moz-keyframes hittedanim{
		0% { opacity:0; }
		33% { opacity:1; }
		100% {  opacity:0; }
	}

	@-webkit-keyframes hittedanim {
		0% { opacity:0; }
		33% { opacity:1; }
		100% {  opacity:0; }
	}

	@-o-keyframes hittedanim {
		0% { opacity:0; }
		33% { opacity:1; }
		100% {  opacity:0; }
	}

	@-ms-keyframes hittedanim {
		0% { opacity:0; }
		33% { opacity:1; }
		100% {  opacity:0; }
	}

	transform: rotate(0deg);

	// transform: rotate(0deg) translate(0px, 0px);

	transition: transform 2s;

	&.top { transform: rotate(0deg); }
	// &.top-tmp { transform: rotate(0deg) translate(0px, -64px); }
	&.right { transform: rotate(90deg); }
	// &.right-tmp { transform: rotate(90deg) translate(0px, -64px); }
	&.bottom { transform: rotate(180deg); }
	// &.bottom-tmp { transform: rotate(180deg) translate(0px, -64px); }
	&.left { transform: rotate(270deg); }
	// &.left-tmp { transform: rotate(270deg) translate(-64px, 0px); }
}

#chat {
	position: fixed;
	right: 0px;
	top: 0px;

	.list {
		width: 250px;
		height: 250px;
		background-color: red;
		overflow-y: scroll;
	}
}